<img align="right" width="150" alt="logo" src="https://user-images.githubusercontent.com/5889006/190859553-5b229b4f-c476-4cbd-928f-890f5265ca4c.png">

# Шаблон-стартер Hugo с темой Hugo Stack

В комплекте настроенная структура и конфигурация темы. 

## Начало работы

1. Нажмите *Use this template* и создайте репозиторий с именем `<username>.github.io` на GitHub.
![Шаг 1](https://user-images.githubusercontent.com/5889006/156916624-20b2a784-f3a9-4718-aa5f-ce2a436b241f.png)

2. Откройте Settings -> Pages. Измените ветку сборки с `master` на `gh-pages`.
![Сборка](https://github.com/namanh11611/hugo-theme-stack-starter/assets/16586200/12c763cd-bead-4923-b610-8788f388fcb5)

3. После создания репозитория создайте связанный с ним GitHub Codespace.
![Создать codespace](https://user-images.githubusercontent.com/5889006/156916672-43b7b6e9-4ffb-4704-b4ba-d5ca40ffcae7.png)

4. Готово! Codespace настроен с последней версией Hugo Extended, просто запустите `hugo server` в терминале и посмотрите ваш новый сайт в действии.

5. Проверьте папку `config` для файлов конфигурации. Вы можете отредактировать их под свои нужды. Обязательно обновите свойство `baseurl` в файле `config/_default/config.toml` на URL вашего сайта.

# Основные команды Hugo

## Запуск в Codespaces
Для запуска в GitHub Codespaces используйте команду с указанием baseURL:
```bash
hugo server --baseURL="http://localhost:1313/"
```

## Создание новых страниц

### Статическая страница
```bash
hugo new content/page-name/index.md
```

### Статья блога
```bash
hugo new content/post/post-name/index.md
```

### Другие типы контента
```bash
# Создать категорию
hugo new content/categories/category-name/_index.md

# Создать тег
hugo new content/tags/tag-name/_index.md

# Создать пользовательский тип контента
hugo new content/section-name/item-name/index.md
```

## Редактирование страниц
Для редактирования существующих страниц откройте соответствующие файлы `.md` в папке `content/` измените их содержимое. Файлы имеют формат Markdown с дополнительным заголовком YAML в начале. Для визуализации можно использовать [markdownlivepreview](https://markdownlivepreview.com/) или область предварительного просмотра в Codespaces (вызывается через ПКМ).

# Работа с изображениями

## Изображения-обложки (cover)
Для установки изображения-обложки на странице или статье используйте параметр `image` в заголовке YAML:
```yaml
---
title: "Название статьи"
image: "cover.jpg"  # или путь к изображению
---
```

Изображение может быть расположено в той же директории, что и файл контента (тогда путь как на примере), или по указанному пути. Обложка будет отображаться в превью статьи и в социальных сетях при публикации ссылки.

## Встраивание изображений в контент
Для вставки изображений внутрь контента используйте стандартный синтаксис Markdown:
```markdown
![Описание изображения](путь/к/изображению.jpg)
```

Также можно использовать HTML-теги для более точного контроля над размером и положением изображения:
```html
<img src="путь/к/изображению.jpg" alt="Описание изображения" width="500" />
```

## Вложения на страницах
Для добавления вложений (документов, PDF, презентаций и т.д.) на страницы поместите файлы в папку рядом с файлом `.md` или в соответствующую подпапку в `content/`. Затем создайте ссылку на файл в тексте страницы:
```markdown
[Скачать документ](document.pdf)
```

Для организации вложений рекомендуется создавать подпапки в соответствующем разделе контента, например:
- `content/post/post-name/document.pdf` - документ, относящийся к конкретной статье
- `content/page-name/files.zip` - общие документы в разделе документов

При необходимости можно использовать shortcode для отображения галереи изображений или списка вложений.

# Разметка и форматирование контента

Подробную информацию о разметке и форматировании контента с примерами смотрите на странице справки по адресу: http://your_site/help/

На этой странице вы найдете:
- Полный синтаксис Markdown
- Примеры использования заголовков, таблиц, списков
- Работу с изображениями и галереями
- Встраивание видео и других медиа
- Использование шорткодов
- Формулы и математическую типографику

# Настройки конфигурации

## Основной файл конфигурации
Файл `config/_default/config.toml` содержит основные настройки сайта. Правка этого файла строго обязательна при установке. Первичные настройки, которые нужно изменить при установке:

- `baseurl` - URL сайта (например, `https://username.github.io`)
- `title` - заголовок сайта
- `languageCode` - код языка (например, `ru-ru`)
- `defaultContentLanguage` - язык по умолчанию (например, `ru`)

## Дополнительные настройки
Файл `config/_default/params.toml` содержит дополнительные параметры сайта, включая настройки счетчиков, комментариев, виджетов и многое другое. При необходимости измените следующие параметры в соответствии с вашими требованиями:

- `favicon` - путь к файлу фавикона
- `[footer]` - настройки футера сайта
- `[dateFormat]` - форматы дат публикации и обновления
- `[sidebar]` - настройки боковой панели
- `[article]` - настройки отображения статей
- `[widgets]` - виджеты для главной страницы и страниц контента
- `[comments]` - настройки системы комментариев
- `[colorScheme]` - настройки цветовой схемы

### Особенности настройки цветовой схемы
При активации выбора цветовой схемы (включении параметра `[colorScheme].toggle`) может некорректно работать режим для слабовидящих. Если вы планируете использовать режим доступности для слабовидящих, рекомендуется НЕ ВКЛЮЧАТЬ переключение цветовой схемы, оставив по умолчанию параметры:
```toml
[colorScheme]
toggle = false  # отключить переключение цветовой схемы
default = "light"  # выбрать подходящую по умолчанию

[accessibility]
enabled = true  # включить режим доступности
```

## Архетипы
Файлы в папке `archetypes/` определяют шаблоны для новых страниц. При создании новых страниц Hugo использует соответствующий архетип для генерации начального содержимого с предопределенными параметрами.

### Архетип для статических страниц ([`archetypes/default.md`](archetypes/default.md))
Содержит базовые параметры для статических страниц, такие как `title`, `description`, `draft`, `type` и другие.

### Архетип для статей ([`archetypes/post.md`](archetypes/post.md))
Содержит расширенные параметры для статей, включая дату, категории, теги, изображения и другие.

# Режим черновика

## Включение/выключение режима черновика
В каждом файле содержимого есть параметр `draft: false` или `draft: true` в заголовке YAML. Если значение `true`, страница считается черновиком и не будет отображаться при сборке сайта в режиме по умолчанию. Для отображения черновиков при запуске сервера используйте флаг `--buildDrafts` или `-D`:

```bash
hugo server -D
```

## Другие настройки страниц в архетипах

### Параметры для статических страниц
- `title` - заголовок страницы
- `description` - описание для SEO
- `readingTime` - показывать ли время чтения (по умолчанию `false` для статических страниц)
- `image` - изображение для превью
- `math` - включить поддержку математических формул (KaTeX)

## Поддержка математики (KaTeX)
Проект поддерживает отображение математических формул в формате LaTeX/KaTeX. Для включения поддержки математики в файле контента установите параметр `math: true` в заголовке YAML. Примеры использования:

### Inline (строковые) формулы
Для вставки строковой формулы используйте синтаксис `\(...\)`:
```latex
\(
E = mc^2
\)
```

### Блочные формулы
Для вставки блочной формулы используйте синтаксис `\[...\]` или `$$...$$`:
```latex
\[
\int_{-\infty}^\infty e^{-x^2} dx = \sqrt{\pi}
\]
```

Настройки отображения формул находятся в файле `config/_default/markup.toml` в разделе `[goldmark.extensions.passthrough.delimiters]`:
```toml
[goldmark.extensions.passthrough.delimiters]
block = [['\[', '\]'], ['$$', '$$']]
inline = [['\(', '\)']]
```

### Параметры для статей
- `title` - заголовок статьи
- `description` - описание для SEO
- `summary` - краткое содержание
- `categories` - категории статьи
- `tags` - теги статьи
- `date` - дата публикации
- `image` - изображение статьи
- `math` - включить поддержку математических формул
- `hidden` - скрывать ли статью
- `draft` - является ли статья черновиком

# Дополнительные настройки

## Счетчики метрик
Для добавления Яндекс.Метрики необходимо указать соответствующие настройки в файле `config/_default/params.toml` в разделе `[params.metrika]` для Яндекс.Метрики. Пример настройки:
```toml
[metrika]
    countercode = "12345678" # Замените на ваш реальный номер счетчика
```

## Комментарии VK
Для включения комментариев VK необходимо настроить параметры в файле `config/_default/params.toml` в разделе `[vk]`:
```toml
[vk]
  appId = "5165443"  # Замените на ваш реальный ID приложения VK
  
  # Ссылка на группу VK (для кнопки при ошибке)
  groupUrl = "https://vk.com/your_group"
```

Для вставки комментариев VK на страницы используется shortcode `vk_comments`. Пример использования в файле контента:
```markdown
{{< vk_comments >}}
```

## Иконки
В проекте используются SVG-иконки, которые находятся в папке `assets/icons/`. Иконки можно получить на сайте [Tabler](https://tabler.io/icons). Для добавления своих иконок:
1. Поместите SVG-файл в папку `assets/icons/`
2. Используйте иконку в шаблонах или контенте через соответствующий shortcode

## Фавикон и аватар
- Файл фавикона находится по пути `static/favicon.png`. Для изменения фавикона замените этот файл на свой.
- Файл аватара находится по пути `assets/img/avatar.png`. Для изменения аватара замените этот файл на свой. Также можно изменить настройки аватара в файле `config/_default/params.toml` в разделе `[sidebar.avatar]`:
```toml
[sidebar.avatar]
enabled = true  # включить/выключить отображение аватара
local = true    # использовать локальный файл
src = "img/avatar.png"  # путь к файлу аватара
```
